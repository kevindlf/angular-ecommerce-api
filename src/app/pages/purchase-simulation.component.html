<div class="container">
  <div class="content-box">
    <h2>Simulación de Compra</h2>
    <div *ngIf="cartItems.length > 0; else emptyCart">
      <ul>
        <li *ngFor="let item of cartItems">
          <span>{{ item.title }} (x{{ item.quantity }}) - ${{ item.price * item.quantity }}</span>
        </li>
      </ul>
      <div class="cart-total">
        <strong>Total: ${{ getTotal() }}</strong>
      </div>
      <form (ngSubmit)="confirmPurchase()" #purchaseForm="ngForm" class="purchase-form">
        <div class="form-group">
          <label for="cardNumber">Número de tarjeta</label>
          <input type="text" id="cardNumber" name="cardNumber" [(ngModel)]="cardNumber" required minlength="12" maxlength="19" pattern="\\d+" class="form-control" />
        </div>
        <div class="form-group mt-2">
          <label for="email">Correo electrónico</label>
          <input type="email" id="email" name="email" [(ngModel)]="email" required email class="form-control" />
        </div>
        <div class="form-group mt-2">
          <label for="password">Contraseña</label>
          <input type="password" id="password" name="password" [(ngModel)]="password" required minlength="6" class="form-control" />
        </div>
        <button type="submit" class="btn btn-primary mt-3">Confirmar Compra</button>
      </form>
    </div>
    <ng-template #emptyCart>
      <p>El carrito está vacío.</p>
    </ng-template>
    <button (click)="goBack()" class="common-button mt-3">Volver</button>
  </div>
</div>
